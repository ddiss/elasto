def options(opt):
	opt.load('compiler_c')

def configure(conf):
	conf.load('compiler_c')
	conf.env.append_unique('CFLAGS', ['-Wall','-g'])

def build(bld):
	bld.program(source='elasto_client.c linenoise.c cli_ls.c cli_put.c '
			   'cli_get.c cli_del.c cli_sign.c cli_create.c '
			   'cli_cp.c cli_util.c',
		    target='elasto_cli',
		    lib=['curl', 'crypto', 'expat'],
		    use=['ccan', 'elasto'],
		    includes = '. ..',
		    defines = ['_GNU_SOURCE'],
		    install_path = '${BINDIR}')
